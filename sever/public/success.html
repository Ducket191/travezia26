<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thanh toÃ¡n thÃ nh cÃ´ng</title>
</head>
<body>
  <h1>ğŸ‰ Thanh toÃ¡n thÃ nh cÃ´ng!</h1>
  <p>Cáº£m Æ¡n báº¡n Ä‘Ã£ mua vÃ©. Vui lÃ²ng kiá»ƒm tra email cá»§a báº¡n Ä‘á»ƒ nháº­n vÃ©.</p>
  <a href="https://tickettravezia.netlify.app/">Quay láº¡i trang chá»§</a>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
  window.onload = async () => {
    const params = new URLSearchParams(window.location.search);
    const userData = {
      name: params.get('name'),
      email: params.get('email'),
      phonenumber: params.get('phonenumber'),
      ticketCount: parseInt(params.get('ticketCount')) || 0,
      seats: params.get('seats')?.split(',') || []
    };

    if (!userData.name || !userData.email) {
      console.warn("âš ï¸ KhÃ´ng tÃ¬m tháº¥y thÃ´ng tin ngÆ°á»i dÃ¹ng trong URL.");
      return;
    }

    try {
      const res = await axios.post('https://trave26.onrender.com/send-email', userData);
      console.log('âœ… Email Ä‘Ã£ Ä‘Æ°á»£c gá»­i:', res.data.message);
    } catch (err) {
      console.error('âŒ Lá»—i khi gá»­i email xÃ¡c nháº­n:', err);
    }
  };
</script>
</body>
</html>